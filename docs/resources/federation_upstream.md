---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "lavinmq_federation_upstream Resource - lavinmq"
subcategory: ""
description: |-
  Manage a federation upstream for replicating exchanges and queues from remote brokers.
---

# lavinmq_federation_upstream (Resource)

Manage a federation upstream for replicating exchanges and queues from remote brokers.

## Example Usage

```terraform
resource "lavinmq_vhost" "example" {
  name = "example-vhost"
}

resource "lavinmq_federation_upstream" "example" {
  name     = "upstream-cluster"
  vhost    = lavinmq_vhost.example.name
  uri      = "amqp://guest:guest@upstream-broker.example.com:5672/%2f"
  exchange = "federated-exchange"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the federation upstream.
- `uri` (String) AMQP URI of the upstream broker.
- `vhost` (String) Virtual host where the federation upstream is defined.

### Optional

- `ack_mode` (String) When to acknowledge messages from upstream: 'on-confirm', 'on-publish', or 'no-ack'.
- `consumer_tag` (String) Consumer tag for the federation link.
- `exchange` (String) Name of upstream exchange to federate from.
- `expires` (Number) Expiry time in milliseconds for the federation link.
- `max_hops` (Number) Maximum number of federation hops for a message.
- `message_ttl` (Number) TTL in milliseconds for messages in the federation link.
- `prefetch_count` (Number) Number of messages to prefetch from upstream.
- `queue` (String) Name of upstream queue to federate from (for queue federation).
- `reconnect_delay` (Number) Delay in seconds before reconnecting after connection failure.



## Import

Import is supported using the following syntax:

```shell
terraform import lavinmq_federation_upstream.example vhost@upstream_name
```

Using the Terraform import block:

```terraform
import {
  id = "vhost@upstream_name"
  to = lavinmq_federation_upstream.example
}
```
